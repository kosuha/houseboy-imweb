<!-- renewal/membership_benefits_levels.html -->

<style>
  .mobile-br {
    display: none;
  }

  /* Section Common */
  .section-title {
    font-size: 24px !important;
    font-weight: 700 !important;
    color: #000 !important;
    margin-bottom: 40px;
  }

  /* Benefits Section */
  .benefits-section {
    margin-bottom: 80px;
  }

  .benefits-grid {
    display: flex;
    justify-content: center;
    gap: 40px;
    flex-wrap: wrap;
  }

  .benefit-item {
    flex: 1;
    min-width: 200px;
    max-width: 250px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .icon-circle {
    width: 50px;
    height: 50px;
    background-color: #182A23;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 20px;
  }

  .icon-img {
    width: 40px;
    height: 40px;
    filter: invert(1);
  }

  .benefit-desc {
    font-size: 15px;
    color: #666;
    margin-bottom: 10px;
    line-height: 1.5;
  }

  .benefit-highlight {
    font-size: 24px;
    font-weight: 700;
    color: #000;
    margin: 5px;
  }

  /* Levels Section Common */
  .levels-section {
    margin-bottom: 40px;
  }

  .levels-header-bar {
    background-color: #000;
    color: #fff;
    padding: 20px;
    font-weight: 700;
    font-size: 20px;
    text-align: center;
    border-radius: 10px 10px 0 0;
  }

  .level-icon {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    font-weight: 700;
    color: #fff;
    flex-shrink: 0;
  }

  .level-icon.green {
    background-color: #B8DCD1;
  }

  .level-icon.house-green {
    background-color: #6BB8A7;
  }

  .level-icon.special-green {
    background-color: #2A544A;
  }

  .lb-item {
    margin-bottom: 25px;
  }

  .lb-tag {
    display: inline-block;
    background-color: #182A23 !important;
    color: #fff !important;
    font-size: 12px;
    padding: 4px 8px;
    border-radius: 10px;
    margin-bottom: 10px;
    font-weight: 500;
  }

  .lb-item p {
    font-size: 14px;
    line-height: 1.6;
    margin: 0;
    color: #333;
  }

  /* Desktop Levels Layout */
  .levels-desktop {
    display: block;
    background-color: #fff;
    border-radius: 10px;
  }

  .levels-inner {
    padding: 50px 40px;
  }

  .levels-top-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 40px;
  }

  .level-top-item {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 20px;
    padding: 0 20px;
  }

  .level-info h3 {
    font-size: 18px;
    font-weight: 700;
    margin: 0 0 5px 0;
    text-align: left;
  }

  .level-info p {
    font-size: 14px;
    color: #666;
    margin: 0;
    text-align: left;
  }

  .levels-divider {
    height: 1px;
    background-color: #e0e0e0;
    margin: 0 20px 40px;
  }

  .levels-bottom-row {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, auto);
    grid-auto-flow: column;
    row-gap: 40px;
  }

  .level-bottom-item {
    display: contents;
  }

  .levels-bottom-row .lb-item {
    padding: 0 20px;
    margin-bottom: 0;
    text-align: left;
  }

  /* Mobile Levels Layout */
  .levels-mobile {
    display: none;
  }

  .levels-mobile-container {
    background-color: #fff;
    overflow: hidden;
    border-radius: 0 0 10px 10px;
    padding-bottom: 25px;
  }

  .levels-mobile-header {
    background-color: #000;
    color: #fff;
    padding: 15px;
    font-weight: 700;
    font-size: 18px;
    border-radius: 10px 10px 0 0;
  }

  .levels-slider {
    display: flex;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    gap: 0;
  }

  .levels-slider::-webkit-scrollbar {
    display: none;
  }

  .level-mobile-card {
    flex: 0 0 100%;
    width: 100%;
    scroll-snap-align: center;
    background-color: transparent;
    padding: 30px 20px 10px;
    box-sizing: border-box;
  }

  .level-mobile-header {
    display: flex;
    align-items: center;
    margin-bottom: 30px;
    gap: 15px;
    justify-content: center;
    text-align: left;
  }

  .level-mobile-benefits {
    text-align: left;
    padding: 0 10px;
  }

  /* Kakao Section */
  .kakao-section {
    margin-bottom: 60px;
  }

  .kakao-steps {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 40px 0;
  }

  .step-item {
    flex: 1;
    max-width: 250px;
  }

  .step-num {
    width: 30px;
    height: 30px;
    background-color: #000;
    color: #fff;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    margin: 0 auto 20px;
  }

  .step-desc {
    font-size: 14px;
    line-height: 1.5;
    color: #333;
  }

  /* Pagination Customization */
  .custom-pagination {
    display: none;
    justify-content: center;
    gap: 8px;
    margin-top: 10px;
  }

  .pagination-dot {
    width: 8px;
    height: 8px;
    background-color: #ccc;
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.3s;
  }

  .pagination-dot.active {
    background-color: #000;
  }

  .benefit-sub-highlight {
    display: none;
  }

  /* Mobile Responsive */
  @media (max-width: 768px) {
    .membership-container {
      padding: 40px 20px;
    }

    .mobile-br {
      display: block;
    }

    .benefits-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .benefit-item {
      min-width: auto;
      max-width: none;
    }

    /* Kakao Featured Item Styles */
    .benefit-item.kakao-benefit {
      position: relative;
      grid-column: 1 / -1;
      order: -1;
      flex-direction: row;
      background-color: #fff;
      border-radius: 5px;
      align-items: center;
      gap: 10px;
      height: 82px;
      width: 259px;
      margin: 0 auto;
      margin-bottom: 30px;
    }

    .benefit-item.kakao-benefit .icon-circle {
      position: absolute;
      top: 0;
      left: -41px;
      margin-bottom: 0;
      width: 82px;
      height: 82px;
      flex-shrink: 0;
    }

    .benefit-item svg {
      width: 25px;
      height: 25px;
    }

    .benefit-item.kakao-benefit .icon-img,
    .benefit-item.kakao-benefit svg {
      width: 40px;
      height: 40px;
    }

    .benefit-item.kakao-benefit .benefit-info {
      text-align: left;
      margin-left: 60px;
    }

    .benefit-item.kakao-benefit .benefit-desc {
      white-space: nowrap;
      margin-bottom: 5px !important;
    }

    .benefit-item.kakao-benefit .benefit-highlight {
      font-size: 17px;
      margin: 0;
      padding: 0;
    }

    .benefit-sub-highlight {
      display: block;
      font-size: 14px;
      font-weight: 700;
      color: #FF6B00;
      margin: 0;
      padding: 0;
    }

    /* Toggle Desktop/Mobile Levels */
    .levels-desktop {
      display: none;
    }

    .levels-mobile {
      display: block;
    }

    /* Kakao Swiper on Mobile */
    .kakao-steps {
      display: flex;
      gap: 0;
      margin: 40px 0 20px;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      /* Firefox */
    }

    .kakao-steps::-webkit-scrollbar {
      display: none;
      /* Chrome/Safari */
    }

    .step-item {
      max-width: none;
      flex: 0 0 100%;
      width: 100%;
      scroll-snap-align: center;
    }

    .levels-swiper,
    .kakao-swiper {
      padding-bottom: 0;
      overflow: hidden;
    }

    .custom-pagination {
      display: flex;
    }
  }
</style>

<div class="membership-container">
  <!-- Benefits Section -->
  <section class="benefits-section">
    <h2 class="section-title">자사몰 전용 혜택 안내</h2>
    <div class="benefits-grid">
      <div class="benefit-item">
        <div class="icon-circle">
          <svg width="39" height="36" viewBox="0 0 39 36" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M2.19998 14.2708H0.5V7.47083H14.9498M2.19998 14.2708V34.6705H15.7998M2.19998 14.2708H36.1996M36.1996 14.2708H37.8996V7.47083H23.4498M36.1996 14.2708V34.6705H22.5998M15.7998 7.47083V34.6705M15.7998 7.47083H22.5998M15.7998 7.47083H14.9498M15.7998 34.6705H22.5998M22.5998 34.6705V7.47083M22.5998 7.47083H23.4498M14.9498 7.47083L5.59995 4.07086L7.29993 0.670898L14.9498 4.07086M14.9498 7.47083V4.07086M14.9498 7.47083H23.4498M23.4498 7.47083V4.49586M23.4498 7.47083L32.7997 4.07086L31.0997 0.670898L23.4498 4.49586M14.9498 4.07086V1.52089H23.4498V4.49586"
              stroke="#F2F0EB" />
          </svg>
        </div>
        <div class="benefit-info">
          <p class="benefit-desc">생일 기념<br>할인쿠폰</p>
          <p class="benefit-highlight">추가 10% 할인</p>
        </div>
      </div>
      <div class="benefit-item kakao-benefit">
        <div class="icon-circle">
          <svg width="38" height="24" viewBox="0 0 38 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M14.0918 7.4C12.0782 6.63333 8.05102 6.32667 8.05102 11.2333C8.05102 16.14 12.0782 15.8333 14.0918 15.0667M0.5 0.5V23.5H37.5V17.3667C37.5 17.3667 33.7245 17.3667 33.7245 12.7667C33.7245 8.90155 37.5 8.90155 37.5 8.90155V0.5H0.5Z"
              stroke="#F2F0EB" />
          </svg>
        </div>
        <div class="benefit-info">
          <p class="benefit-desc">카카오 플친 할인쿠폰팩</p>
          <p class="benefit-highlight">3종 할인쿠폰 + 무료배송</p>
          <p class="benefit-sub-highlight">5% + 10% + 1,000원 할인</p>
        </div>
      </div>
      <div class="benefit-item">
        <div class="icon-circle">
          <svg width="41" height="41" viewBox="0 0 41 41" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="20.4991" cy="20.5001" r="15.4444" stroke="#D9D9D9" />
            <circle cx="20.5" cy="20.5" r="20" stroke="#D9D9D9" />
            <path
              d="M17 28V21.8824M17 21.8824V15H22.3333C22.3333 15 25 15 25 18.0588C25 21.8824 22.3333 21.8824 22.3333 21.8824H17Z"
              stroke="#F2F0EB" />
          </svg>
        </div>
        <div class="benefit-info">
          <p class="benefit-desc">생생한 후기를<br>작성해주세요!</p>
          <p class="benefit-highlight">적립금 지급</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Membership Levels Section -->
  <section class="levels-section">

    <!-- Desktop Layout -->
    <div class="levels-desktop">
      <div class="levels-header-bar">Membership 혜택</div>
      <div class="levels-inner">
        <!-- Top Row: Headers -->
        <div class="levels-top-row">
          <div class="level-top-item">
            <div class="level-icon green">G</div>
            <div class="level-info">
              <h3>Green 등급</h3>
              <p>자사몰 구매 20만원 미만</p>
            </div>
          </div>
          <div class="level-top-item">
            <div class="level-icon house-green">H</div>
            <div class="level-info">
              <h3>House Green 등급</h3>
              <p>자사몰 구매 20만원 이상</p>
            </div>
          </div>
          <div class="level-top-item">
            <div class="level-icon special-green">G</div>
            <div class="level-info">
              <h3>Special Green 등급</h3>
              <p>자사몰 구매 40만원 이상</p>
            </div>
          </div>
        </div>

        <!-- Divider -->
        <div class="levels-divider"></div>

        <!-- Bottom Row: Benefits -->
        <div class="levels-bottom-row">
          <div class="level-bottom-item">
            <div class="lb-item">
              <span class="lb-tag">등급 달성시</span>
              <p>첫 구매 감사 2,000원 할인 쿠폰<br>무료 배송 쿠폰</p>
            </div>
            <div class="lb-item">
              <span class="lb-tag">구매 후</span>
              <p>구매액의 1% 포인트 적립</p>
            </div>
            <div class="lb-item">
              <span class="lb-tag">기념일</span>
              <p>10% 생일 축하 쿠폰</p>
            </div>
          </div>
          <div class="level-bottom-item">
            <div class="lb-item">
              <span class="lb-tag">등급 달성시</span>
              <p>1,000원 추가 할인 쿠폰 * 2<br>상시 무료 배송</p>
            </div>
            <div class="lb-item">
              <span class="lb-tag">구매 후</span>
              <p>구매액의 4% 포인트 적립</p>
            </div>
            <div class="lb-item">
              <span class="lb-tag">기념일</span>
              <p>10% 생일 축하 쿠폰</p>
            </div>
          </div>
          <div class="level-bottom-item">
            <div class="lb-item">
              <span class="lb-tag">등급 달성시</span>
              <p>신제품 체험단 우선 참여권<br>1,000원 추가 할인 쿠폰 * 3<br>상시 무료 배송</p>
            </div>
            <div class="lb-item">
              <span class="lb-tag">구매 후</span>
              <p>구매액의 6% 포인트 적립</p>
            </div>
            <div class="lb-item">
              <span class="lb-tag">기념일</span>
              <p>10% 생일 축하 쿠폰</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Mobile Layout -->
    <div class="levels-mobile">
      <div class="levels-mobile-header">Membership 혜택</div>
      <div class="levels-mobile-container">
        <div class="levels-slider" id="levelsGridMobile">
          <!-- Green -->
          <div class="level-mobile-card">
            <div class="level-mobile-header">
              <div class="level-icon green">G</div>
              <div class="level-info">
                <h3>Green 등급</h3>
                <p>자사몰 구매 20만원 미만</p>
              </div>
            </div>
            <div class="level-mobile-benefits">
              <div class="lb-item">
                <span class="lb-tag">등급 달성시</span>
                <p>첫 구매 감사 2,000원 할인 쿠폰<br>무료 배송 쿠폰</p>
              </div>
              <div class="lb-item">
                <span class="lb-tag">구매 후</span>
                <p>구매액의 1% 포인트 적립</p>
              </div>
              <div class="lb-item">
                <span class="lb-tag">기념일</span>
                <p>10% 생일 축하 쿠폰</p>
              </div>
            </div>
          </div>

          <!-- House Green -->
          <div class="level-mobile-card">
            <div class="level-mobile-header">
              <div class="level-icon house-green">H</div>
              <div class="level-info">
                <h3>House Green 등급</h3>
                <p>자사몰 구매 20만원 이상</p>
              </div>
            </div>
            <div class="level-mobile-benefits">
              <div class="lb-item">
                <span class="lb-tag">등급 달성시</span>
                <p>1,000원 추가 할인 쿠폰 * 2<br>상시 무료 배송</p>
              </div>
              <div class="lb-item">
                <span class="lb-tag">구매 후</span>
                <p>구매액의 4% 포인트 적립</p>
              </div>
              <div class="lb-item">
                <span class="lb-tag">기념일</span>
                <p>10% 생일 축하 쿠폰</p>
              </div>
            </div>
          </div>

          <!-- Special Green -->
          <div class="level-mobile-card">
            <div class="level-mobile-header">
              <div class="level-icon special-green">G</div>
              <div class="level-info">
                <h3>Special Green 등급</h3>
                <p>자사몰 구매 40만원 이상</p>
              </div>
            </div>
            <div class="level-mobile-benefits">
              <div class="lb-item">
                <span class="lb-tag">등급 달성시</span>
                <p>신제품 체험단 우선 참여권<br>1,000원 추가 할인 쿠폰 * 3<br>상시 무료 배송</p>
              </div>
              <div class="lb-item">
                <span class="lb-tag">구매 후</span>
                <p>구매액의 6% 포인트 적립</p>
              </div>
              <div class="lb-item">
                <span class="lb-tag">기념일</span>
                <p>10% 생일 축하 쿠폰</p>
              </div>
            </div>
          </div>
        </div>
        <div class="custom-pagination" id="levelsPaginationMobile"></div>
      </div>
    </div>
  </section>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    function setupSlider(gridId, paginationId) {
      const grid = document.getElementById(gridId);
      const pagination = document.getElementById(paginationId);

      if (!grid || !pagination) return;

      const items = grid.children;

      // Create pagination dots
      pagination.innerHTML = '';
      for (let i = 0; i < items.length; i++) {
        const dot = document.createElement('div');
        dot.classList.add('pagination-dot');
        if (i === 0) dot.classList.add('active');

        dot.addEventListener('click', () => {
          items[i].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
        });

        pagination.appendChild(dot);
      }

      // Update active dot on scroll
      const observerOptions = {
        root: grid,
        threshold: 0.5
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const index = Array.from(items).indexOf(entry.target);
            const dots = pagination.children;

            if (dots && dots.length > index) {
              for (let i = 0; i < dots.length; i++) {
                dots[i].classList.toggle('active', i === index);
              }
            }
          }
        });
      }, observerOptions);

      Array.from(items).forEach(item => observer.observe(item));
    }

    // Initialize sliders
    setupSlider('levelsGridMobile', 'levelsPaginationMobile');
  });
</script>