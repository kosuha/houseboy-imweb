<!-- 
  모바일 네비게이션
  renewal/mobile-nav.html
-->

<div class='hb-mobile-slide-menu hidden'>
  <div class="hb-mobile-slide-menu__container">
    <div class="hb-mobile-slide-menu__main">
      <div class="hb-mobile-slide-menu__sidebar">
        <div class="hb-mobile-slide-menu__nav-list">
          <div class="hb-mobile-slide-menu__nav-item">
            <a href="/guide">
              <span style="color: #009284;">제품가이드*</span>
            </a>
          </div>
          <div class='hb-mobile-slide-menu__nav-item hb-mobile-slide-menu-button-products selected'>
            <span>모든 제품</span>
          </div>
          <div class="hb-mobile-slide-menu__nav-item hb-mobile-slide-menu__nav-item--online">
            <a href="/review">
              <span>온라인 집들이</span>
            </a>
          </div>
        </div>
        <div class="hb-mobile-slide-menu__secondary">
          <div class='hb-mobile-slide-menu__nav-item hb-mobile-slide-menu-button-about'>
            <span>ABOUT</span>
          </div>
          <div class='hb-mobile-slide-menu__nav-item hb-mobile-slide-menu-button-support'>
            <span>고객지원</span>
          </div>
        </div>
      </div>
      <div class='hb-mobile-slide-menu-page'>

      </div>
    </div>
    <div class="hb-mobile-slide-menu__footer">
      <div class="hb-mobile-slide-menu__actions">
        <a class="hb-mypage-link-button" href="">
          <button>회원가입</button>
        </a>
        <a class="hb-logout-link-button" href="">
          <button>로그인</button>
        </a>
      </div>
    </div>
  </div>
</div>

<script>
  {
    const menuIcon = `
  <svg width="15" height="15" viewBox="0 0 25 14" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M0.119629 1.02606H24.188" stroke="#fff" stroke-width="2"/>
    <path d="M0.119629 12.3075H24.188" stroke="#fff" stroke-width="2"/>
  </svg>
  `;

    const xIcon = `
  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M1.00977 0.999512L22.9999 22.9897" stroke="#212121" stroke-width="2"/>
    <path d="M1 22.9897L22.9902 0.999594" stroke="#212121" stroke-width="2"/>
  </svg>
  `;

    const gotoIcon = `
  <svg width="8" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M1 1L7.04834 4.54L1 8.08" stroke="#080506" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  `;

    const mobileSlideMenuProductsPageText = `
    <div class='hb-mobile-slide-menu-products-page'>
      <div>
        <a href="">
          <span>ALL</span>
          ${gotoIcon}      
        </a>
        <div>
          <a href="/clean">
            <img src="https://cdn-optimized.imweb.me/upload/S20230424610d85b7e8034/1a7cd0f083041.jpg?w=400" />
            <span>Clean</span>
          </a>
          <a href="/towel">
            <img src="https://cdn-optimized.imweb.me/upload/S20230424610d85b7e8034/0f6ed7c90e7e6.jpg?w=400" />
            <span>Towel</span>
          </a>
        </div>
      </div>
    </div>
  `;

    const mobileSlideMenuAboutPageText = `
    <div class='hb-mobile-slide-menu-about-page'>
      <div>
        ABOUT
      </div>
      <div>
        <a href="/brandstory">
          브랜드 스토리
        </a>
        <a href="/brandmagazine">
          브랜드 매거진
        </a>
        <a href="/">
          Instagram
        </a>
        <a href="/">
          Kakao Plus
        </a>
      </div>
    </div>
  `;

    const mobileSlideMenuSupportPageText = `
    <div class='hb-mobile-slide-menu-support-page'>
      <div>
        고객지원
      </div>
      <div>
        <a href="/notice">
          공지사항
        </a>
        <a href="/faq">
          자주 묻는 질문
        </a>
        <a href="/suggestion">
          제품 제안하기
        </a>
        <a href="/membership">
          멤버십 혜택
        </a>
        <a href="/contact">
          비즈니스 컨텍
        </a>
      </div>
    </div>
  `;

    const moblieMenuButtonWrap = document.querySelector("#w20251003e5fc490a05c65 > div > div.padding");
    moblieMenuButtonWrap.innerHTML = `
  <button class='hb-mobile-menu-button'>
    ${menuIcon}
  </button>
  `;
    const mobileSlideMenu = document.querySelector(".hb-mobile-slide-menu");

    const mobileSlideMenuPage = document.querySelector('.hb-mobile-slide-menu-page');
    const mobileSlideMenuProductsButton = document.querySelector('.hb-mobile-slide-menu-button-products');
    const mobileSlideMenuAboutButton = document.querySelector('.hb-mobile-slide-menu-button-about');
    const mobileSlideMenuSupportButton = document.querySelector('.hb-mobile-slide-menu-button-support');

    const mobileSlideMenuCloseButton = document.querySelector('.hb-mobile-slide-menu-close-button');

    mobileSlideMenuPage.innerHTML = mobileSlideMenuProductsPageText;
    const mobileHeader = document.querySelector("#inline_header_mobile");
    mobileHeader.appendChild(mobileSlideMenu);

    mobileSlideMenuProductsButton.addEventListener('click', () => {
      mobileSlideMenuPage.innerHTML = mobileSlideMenuProductsPageText;
      if (mobileSlideMenuAboutButton.classList.contains('selected')) {
        mobileSlideMenuAboutButton.classList.toggle('selected');
      }
      if (mobileSlideMenuSupportButton.classList.contains('selected')) {
        mobileSlideMenuSupportButton.classList.toggle('selected');
      }
      if (!mobileSlideMenuProductsButton.classList.contains('selected')) {
        mobileSlideMenuProductsButton.classList.toggle('selected');
      }
    })

    mobileSlideMenuAboutButton.addEventListener('click', () => {
      console.log(mobileSlideMenuAboutPageText);
      mobileSlideMenuPage.innerHTML = mobileSlideMenuAboutPageText;
      if (mobileSlideMenuSupportButton.classList.contains('selected')) {
        mobileSlideMenuSupportButton.classList.toggle('selected');
      }
      if (mobileSlideMenuProductsButton.classList.contains('selected')) {
        mobileSlideMenuProductsButton.classList.toggle('selected');
      }
      if (!mobileSlideMenuAboutButton.classList.contains('selected')) {
        mobileSlideMenuAboutButton.classList.toggle('selected');
      }
    })

    mobileSlideMenuSupportButton.addEventListener('click', () => {
      console.log(mobileSlideMenuSupportPageText);
      mobileSlideMenuPage.innerHTML = mobileSlideMenuSupportPageText;
      if (mobileSlideMenuAboutButton.classList.contains('selected')) {
        mobileSlideMenuAboutButton.classList.toggle('selected');
      }
      if (mobileSlideMenuProductsButton.classList.contains('selected')) {
        mobileSlideMenuProductsButton.classList.toggle('selected');
      }
      if (!mobileSlideMenuSupportButton.classList.contains('selected')) {
        mobileSlideMenuSupportButton.classList.toggle('selected');
      }
    })

    const mobileHeaderSection = mobileHeader.querySelector('#s202305237306222ac0e85');
    const moblieMenuButton = document.querySelector(".hb-mobile-menu-button");
    moblieMenuButton.addEventListener('click', () => {
      if (mobileHeaderSection.classList.contains('slide-opened')) {
        moblieMenuButton.innerHTML = menuIcon;
      } else {
        moblieMenuButton.innerHTML = xIcon;
      }
      mobileHeaderSection.classList.toggle('slide-opened');
      mobileSlideMenu.classList.toggle('hidden');
    })

    // 메뉴 버튼 색상 문제 해결하는 코드
    const currentUrl = window.location.href;
    // 현재 경로만 추출 (쿼리, 해시 제외)
    let path = window.location.pathname;
    path = path.toLowerCase();
    const homePaths = ['/', '/home'];
    if (homePaths.includes(path)) {
      console.log("home");
      // 홈 화면일 때 실행할 코드
      moblieMenuButton.classList.add('in-home');
      mobileHeader.classList.add('hb-is-home');
      document.body.style.paddingTop = '0px';
    } else {
      // 홈이 아닌 경우 패딩 추가
      const updatePadding = () => {
        const header = document.querySelector('#doz_header') || document.getElementById('inline_header_mobile');
        if (header) {
          let height = header.offsetHeight;
          // 모바일 카러셀 네비게이션 높이는 제외
          const carouselNav = header.querySelector('.mobile_carousel_nav');
          if (carouselNav) {
            height -= carouselNav.offsetHeight;
          }
          document.body.style.paddingTop = height + 'px';
        }
      };
      setTimeout(updatePadding, 100);
      window.addEventListener('resize', updatePadding);
    }

    // 로그인 로그아웃 버튼 처리하는 코드
    const pcLogoutButtton = document.querySelector(".login_btn > .btn-wrap > div:nth-of-type(1) a");
    const pcMypageButtton = document.querySelector(".login_btn > .btn-wrap > div:nth-of-type(2) a");
    const logoutUrl = pcLogoutButtton.getAttribute('href');
    const mypageUrl = pcMypageButtton.getAttribute('href');
    const mMypageButtonWrap = document.querySelector(".hb-mypage-link-button");
    const mMypageButton = document.querySelector(".hb-mypage-link-button > button");
    const mLogoutButtonWrap = document.querySelector(".hb-logout-link-button");
    const mLogoutButton = document.querySelector(".hb-logout-link-button > button");
    if (pcLogoutButtton.innerText === "로그아웃") {
      // 로그인 상태
      console.log("로그인상태");
      mMypageButtonWrap.setAttribute('href', mypageUrl);
      mMypageButton.innerText = "마이페이지";
      mLogoutButtonWrap.setAttribute('href', logoutUrl);
      mLogoutButton.innerText = "로그아웃";

    } else if (pcLogoutButtton.innerText === "로그인") {
      // 로그아웃 상태
      console.log("로그아웃상태");
      mMypageButtonWrap.setAttribute('href', mypageUrl);
      mMypageButton.innerText = "회원가입";
      mLogoutButtonWrap.setAttribute('href', logoutUrl);
      mLogoutButton.innerText = "로그인";
    }
  }
</script>

<style>
  :root {
    --hb-top-banner-height: 0px;
    --hb-bg-beige: #FAF6EE;
    --hb-color-black: #212121;
    --hb-color-white: #ffffff;
    --hb-header-height: 64px;
    --hb-banner-height: 23px;
  }

  #inline_header_mobile {
    margin-top: var(--hb-top-banner-height, 0px);
  }

  #inline_header_mobile .mobile_carousel_nav .nav-item:nth-child(1) a span {
    color: #009284 !important;
  }

  #inline_header_mobile .mobile_carousel_nav .nav-item:not(.active) a span {
    font-weight: 500 !important;
  }

  /* -------------------------------------------------------------------------- */
  /* 로고 스타일 (Logo Styles) */
  /* -------------------------------------------------------------------------- */
  #logo_w202305238bcca1c290ba6 .img_box,
  #logo_w20230523c900aa9cc3066 .img_box {
    height: 40px;
    width: 160px;
    display: flex;
    align-items: center;
    position: relative;
  }

  #logo_w202305238bcca1c290ba6 .img_box a,
  #logo_w20230523c900aa9cc3066 .img_box a {
    position: relative;
    display: block;
    height: 100%;
    width: 100%;
  }

  #logo_w202305238bcca1c290ba6 .normal_logo,
  #logo_w202305238bcca1c290ba6 .scroll_logo,
  #logo_w20230523c900aa9cc3066 .normal_logo,
  #logo_w20230523c900aa9cc3066 .scroll_logo {
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    display: block;
    max-height: 32px;
    margin: 0 !important;
  }

  /* -------------------------------------------------------------------------- */
  /* 모바일 슬라이드 메뉴 (Mobile Slide Menu) */
  /* -------------------------------------------------------------------------- */
  .hb-mobile-slide-menu.hidden {
    display: none;
  }

  .hb-mobile-slide-menu {
    width: 100%;
    height: calc(100% - (var(--hb-header-height) + var(--hb-banner-height)) - var(--hb-top-banner-height, 0px));
    background: #F9F6EF;
    position: fixed;
    z-index: 9999;
    top: calc((var(--hb-header-height) + var(--hb-banner-height)) + var(--hb-top-banner-height, 0px));
    left: 0;
  }

  .hb-mobile-slide-menu__container {
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  .hb-mobile-slide-menu__main {
    display: flex;
    flex-direction: row;
    flex-grow: 1;
  }

  .hb-mobile-slide-menu__sidebar {
    width: 150px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    font-size: 15px;
    font-weight: bold;
    color: #000000;
    background: #F0E7D9;
  }

  .hb-mobile-slide-menu__nav-list .hb-mobile-slide-menu__nav-item,
  .hb-mobile-slide-menu__secondary .hb-mobile-slide-menu__nav-item {
    height: 54px;
    display: flex;
    align-items: center;
    padding-left: 22px;
    cursor: pointer;
  }

  .hb-mobile-slide-menu__nav-item.selected {
    background: #F9F6EF;
  }

  .hb-mobile-slide-menu-page {
    background: #F9F6EF;
    flex-grow: 1;
    overflow-y: auto;
  }

  .hb-mobile-slide-menu-page>div {
    display: flex;
    flex-direction: column;
    gap: 38px;
    padding: 19px 27px;
  }

  /* 세부 페이지 스타일 복구 */
  .hb-mobile-slide-menu-about-page>div:first-child,
  .hb-mobile-slide-menu-support-page>div:first-child {
    font-weight: 600;
    font-size: 15px;
  }

  .hb-mobile-slide-menu-page>div>div:nth-of-type(2) {
    display: flex;
    flex-direction: column;
    gap: 38px;
    font-size: 14px;
  }

  .hb-mobile-slide-menu-products-page {
    gap: 45px !important;
  }

  .hb-mobile-slide-menu-products-page>div {
    display: flex;
    flex-direction: column;
    gap: 23px;
    font-weight: 500;
    font-size: 14px;
  }

  .hb-mobile-slide-menu-products-page>div>a {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 6px;
    font-size: 15px;
    font-weight: 600;
  }

  .hb-mobile-slide-menu-products-page>div>div {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 24px;
  }

  .hb-mobile-slide-menu-products-page>div>div>a {
    display: flex;
    flex-direction: column;
    gap: 4px;
    align-items: center;
    width: 62px;
  }

  .hb-mobile-slide-menu-products-page>div>div>a>img {
    width: 62px;
    height: 62px;
    border-radius: 50%;
    object-fit: cover;
  }

  .hb-mobile-slide-menu__footer {
    display: flex;
    justify-content: center;
    flex-shrink: 0;
    background: #F9F6EF;
  }

  .hb-mobile-slide-menu__actions {
    display: flex;
    gap: 8px;
    width: 100%;
    padding: 10px 22px;
  }

  .hb-mobile-slide-menu__actions>a {
    flex-grow: 1;
  }

  .hb-mobile-slide-menu__actions button {
    height: 36px;
    border-radius: 0;
    font-weight: 600;
    width: 100%;
    cursor: pointer;
  }

  .hb-mypage-link-button>button {
    background: #FFF !important;
    color: #000;
  }

  .hb-logout-link-button>button {
    background: #000;
    color: #FFF;
  }

  /* -------------------------------------------------------------------------- */
  /* 헤더 상태별 스타일 (Header State Styles) */
  /* -------------------------------------------------------------------------- */

  /* 기본: 베이지 배경 + 검정 요소 */
  #inline_header_mobile .inline-section-wrap {
    background: var(--hb-bg-beige) !important;
    transition: background 0.3s ease;
  }

  #inline_header_mobile .inline-section-wrap i,
  #inline_header_mobile .inline-section-wrap span,
  #inline_header_mobile .inline-section-wrap a.btn_text {
    color: var(--hb-color-black) !important;
  }

  #inline_header_mobile .hb-mobile-menu-button {
    margin-left: 6px;
  }

  #inline_header_mobile .hb-mobile-menu-button svg path {
    stroke: var(--hb-color-black) !important;
  }

  #inline_header_mobile img.scroll_logo {
    opacity: 1 !important;
    filter: none;
    margin-top: 0 !important;
    /* 위치 고정 */
  }

  /* [상태 1] 홈 화면 상단: 투명 배경 + 흰색 요소 */
  #inline_header_mobile.hb-is-home.first_scroll_fixed .inline-section-wrap:not(.slide-opened) {
    background: transparent !important;
  }

  #inline_header_mobile.hb-is-home.first_scroll_fixed .inline-section-wrap:not(.slide-opened) img.scroll_logo {
    filter: brightness(0) invert(1);
    /* margin-top: 7px 제거 - 틀어짐 원인 */
  }

  #inline_header_mobile.hb-is-home.first_scroll_fixed .inline-section-wrap:not(.slide-opened) span,
  #inline_header_mobile.hb-is-home.first_scroll_fixed .inline-section-wrap:not(.slide-opened) i,
  #inline_header_mobile.hb-is-home.first_scroll_fixed .inline-section-wrap:not(.slide-opened) a.btn_text {
    color: var(--hb-color-white) !important;
  }

  #inline_header_mobile.hb-is-home.first_scroll_fixed .inline-section-wrap:not(.slide-opened) .hb-mobile-menu-button svg path {
    stroke: var(--hb-color-white) !important;
  }

  /* [상태 2] 슬라이드 메뉴 오픈: 베이지 배경 + 검정 요소 고정 */
  .slide-opened {
    background: var(--hb-bg-beige) !important;
  }

  .slide-opened .section_bg_color {
    background: var(--hb-bg-beige) !important;
  }

  .slide-opened img.scroll_logo {
    filter: none !important;
    opacity: 1 !important;
    margin-top: 0 !important;
  }

  .slide-opened img.normal_logo {
    display: none;
  }

  .slide-opened span,
  .slide-opened i,
  .slide-opened a.btn_text {
    color: var(--hb-color-black) !important;
  }

  .slide-opened .hb-mobile-menu-button svg path {
    stroke: var(--hb-color-black) !important;
  }

  /* 메뉴 전용 예외 처리 */
  #w20251003e5fc490a05c65>div>div.padding>button {
    background: transparent;
    border: none;
    padding: 0;
    display: flex;
    align-items: center;
  }

  /* 뱃지 스타일 유지 */
  .badge_wrap .badge {
    background-color: var(--hb-color-black);
    color: var(--hb-color-white);
  }
</style>